/* =============================================================================
   Layout helpers
============================================================================= */

// -----------------------------------------------------------------------------
// Media Queries
// -----------------------------------------------------------------------------

// Until
@mixin mq-until($width) {
  @media only screen and (max-width: $width - 1) {
    @content;
  }
}

// At least
// Éviter de l'utliser sous peine de voir les styles ne pas s'appliquer sur les
// navigateurs ne gérants pas les media queries
@mixin mq-at-least($width) {
  @media only screen and (min-width: $width) {
    @content;
  }
}


// -----------------------------------------------------------------------------
// Flexbox
// -----------------------------------------------------------------------------

@mixin flexbox-order($order) {
  -moz-box-ordinal-group: $order;
  -webkit-box-ordinal-group: $order;
  -ms-flex-order: $order;
  -webkit-order: $order;
  order: $order;
}


@mixin flexbox-wrapper {
  display: -webkit-box;
  display: -moz-box;
  display: -ms-flexbox;
  display: -webkit-flex;
  display: flex;
  -moz-box-orient:vertical; // Establishes the direction of reordering - we want the y-axis
  -webkit-box-orient:vertical;
  -ms-box-orient: vertical;
  -webkit-flex-direction: column;
  flex-direction: column;
}



/* -----------------------------------------------------------------------------
   Alignments
----------------------------------------------------------------------------- */

.align-left   { text-align: left; }
.align-right  { text-align: right; }
.align-center { text-align: center; }

.valign-top    { vertical-align: top !important; }
.valign-middle { vertical-align: middle !important; }
.valign-bottom { vertical-align: bottom !important; }

.align-start { float: left; }
.align-end   { float: right; }
.align-clear { clear: both; }

.block-clear { clear: both; height: 0.01em; font-size: 0.01em; padding: 0; line-height: 0; }



/* -----------------------------------------------------------------------------
   Display
----------------------------------------------------------------------------- */

.is-hidden { display: none; }

// Hidden except for screen-readers - Yahoo! method : https://developer.yahoo.com/blogs/ydn/clip-hidden-content-better-accessibility-53456.html
.visually-hidden {
  position: absolute !important;
  clip: rect(1px 1px 1px 1px); // IE6, IE7
  clip: rect(1px, 1px, 1px, 1px);
  padding:0 !important;
  border:0 !important;
  height: 1px !important;
  width: 1px !important;
  overflow: hidden;
}



/* -----------------------------------------------------------------------------
   Spacer
----------------------------------------------------------------------------- */

.spacer-1-line { margin-bottom: 1em !important; }
.spacer-2-line { margin-bottom: 2em !important; }
.spacer-3-line { margin-bottom: 3em !important; }



/* -----------------------------------------------------------------------------
   Flex helpers
----------------------------------------------------------------------------- */

// Usage :
// <div class="flex-wrapper">
//   <div data-flexbox-pos-xs="2"></div>
//   <div data-flexbox-pos-xs="1"></div>
// </div><!--/flex-wrapper-->


@include mq-until( $breakpoint-sm ) {

  .flex-wrapper {
    @include flexbox-wrapper;
  }

  @for $i from 1 through 5 {

    div[data-flexbox-pos-xs="#{$i}"] {
      @include flexbox-order($i);
    }

  }

}
